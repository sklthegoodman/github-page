(function(e){function t(t){for(var l,n,i=t[0],c=t[1],s=t[2],f=0,p=[];f<i.length;f++)n=i[f],r[n]&&p.push(r[n][0]),r[n]=0;for(l in c)Object.prototype.hasOwnProperty.call(c,l)&&(e[l]=c[l]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,s||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],l=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(l=!1)}l&&(a.splice(t--,1),e=n(n.s=o[0]))}return e}var l={},r={priceCalculate:0},a=[];function n(t){if(l[t])return l[t].exports;var o=l[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=l,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("08de")},"08de":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var l,r=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",[e._v("趣天价格计算")]),o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px","label-position":"left"}},[o("el-form-item",{attrs:{label:"成本价"}},[o("el-input",{attrs:{placeholder:"请输入数字，比如：30"},model:{value:e.form.cost,callback:function(t){e.$set(e.form,"cost",t)},expression:"form.cost"}})],1),o("el-form-item",{attrs:{label:"销售类型"}},[o("el-radio-group",{model:{value:e.form.sellFee,callback:function(t){e.$set(e.form,"sellFee",t)},expression:"form.sellFee"}},[o("el-radio",{attrs:{label:"0.1"}},[e._v("一般")]),o("el-radio",{attrs:{label:"0.08"}},[e._v("团购")]),o("el-radio",{attrs:{label:"0.06"}},[e._v("拍卖")])],1)],1),o("el-form-item",{attrs:{label:"折扣"}},[o("el-slider",{attrs:{"show-input":""},on:{input:e.slideChange},model:{value:e.form.discount,callback:function(t){e.$set(e.form,"discount",t)},expression:"form.discount"}})],1),o("el-form-item",{attrs:{label:"期望销售利润率"}},[o("el-slider",{attrs:{"show-input":""},on:{input:e.slideChange},model:{value:e.form.profit,callback:function(t){e.$set(e.form,"profit",t)},expression:"form.profit"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认")]),o("el-button",{on:{click:e.onClear}},[e._v("重置")])],1)],1),e.tableData&&e.tableData.length?o("div",{staticClass:"display"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{prop:"priceWithoutDiscount",label:"挂单价"}}),o("el-table-column",{attrs:{prop:"price",label:"最终销售价"}}),o("el-table-column",{attrs:{prop:"income",label:"收入"}}),o("el-table-column",{attrs:{prop:"profit",label:"利润"}}),o("el-table-column",{attrs:{prop:"profitInCNY",label:"利润(人民币)"}}),o("el-table-column",{attrs:{label:"平台费用"}},[o("el-table-column",{attrs:{prop:"feeRate",label:"销售费率"}}),o("el-table-column",{attrs:{prop:"fee",label:"销售手续费"}}),o("el-table-column",{attrs:{prop:"adFee",label:"外部广告费"}})],1),o("el-table-column",{attrs:{label:"物流费用"}},[o("el-table-column",{attrs:{prop:"pack",label:"打包费"}}),o("el-table-column",{attrs:{prop:"head",label:"头程"}}),o("el-table-column",{attrs:{prop:"tail",label:"尾程"}})],1)],1)],1):e._e()],1)},n=[],i=o("90fe"),c="exchangeRate";try{l=JSON.parse(localStorage.getItem(c)),console.log(l)}catch(h){}l&&+new Date-l.ts>14400||i["b"].ajax({url:"https://api.ratesapi.io/api/latest?base=CNY"}).then(function(e){var t=JSON.parse(e);t.ts=+new Date,console.log(t),l=t,localStorage.setItem(c,JSON.stringify(t))}).catch(function(){console.log("汇率接口出错")});var s={data:function(){return{form:{cost:"30",sellFee:"0.1",discount:30,profit:12},tableData:[]}},methods:{onSubmit:function(){var e=this,t=l.rates.JPY,o=+e.form.cost*t,r=+e.form.sellFee,a=+e.form.discount/100,n=+e.form.profit/100,i=4,c=4,s=220,u=i*t+c*t+s,f=(u+o)/((1-n)*(.99-.99*a-r)),p=f*(1-a),b=p-f*r-.01*p;e.tableData=[{feeRate:100*r+"%",fee:(f*r).toFixed(2),adFee:Math.round(.01*p),pack:"人民币：".concat(i,"，日元：").concat((i*t).toFixed(2)),head:"人民币：".concat(c,"，日元：").concat((c*t).toFixed(2)),tail:s,priceWithoutDiscount:f.toFixed(2),price:p.toFixed(2),income:b.toFixed(2),profit:(b*n).toFixed(2),profitInCNY:(b*n/t).toFixed(2)}]},onClear:function(){var e=this;e.tableData=[],e.form={cost:"30",sellFee:"0.1",discount:30,profit:12}},slideChange:function(){this.onSubmit()}}},u=s,f=(o("2094"),o("2877")),p=Object(f["a"])(u,a,n,!1,null,null,null),b=p.exports,d=o("5c96"),m=o.n(d);o("0fae");r["default"].use(m.a),new r["default"]({render:function(e){return e(b)}}).$mount("#app")},2094:function(e,t,o){"use strict";var l=o("3bb9"),r=o.n(l);r.a},"3bb9":function(e,t,o){},"90fe":function(e,t,o){"use strict";o.d(t,"b",function(){return r}),o.d(t,"a",function(){return a});var l=o("d225"),r={ajax:function(e){return new Promise(function(t,o){var l=new XMLHttpRequest;l.onreadystatechange=function(){4==l.readyState&&(l.status>=200&&l.status<300||304==l.status?t(l.responseText):o(l.responseText))},l.open("get",e.url,!0),l.send(null)})},downloadAsFile:function(e,t,o){var l=document.createElement("a"),r=new Blob([e],{type:o});l.href=URL.createObjectURL(r),l.download=t,l.click()}},a=function e(t){if(Object(l["a"])(this,e),!t)return{};for(var o in t)this[this[o]=t[o]]=o}}});